erDiagram
    BRAND {
        int brand_id PK
        string brand_name
        string country_origin
        string logo_url
        boolean is_active
    }

    CATEGORY {
        int category_id PK
        string category_name
        string slug
        int parent_id FK
        boolean is_active
    }

    PRODUCT {
        int product_id PK
        int brand_id FK
        int category_id FK
        string product_code
        string product_name
        text description
        string paint_base
        string finish_type
        string volume
        string coverage_area
        decimal cost_price
        decimal price
        int stock_quantity
        int low_stock_alert
        string image_url
        float rating_avg
        int total_sold
        boolean is_featured
        boolean is_active
        datetime created_at
        datetime updated_at
    }

    USER {
        int user_id PK
        string email
        string password_hash
        string full_name
        string phone_number
        string address
        string city
        string user_type
        boolean is_active
        datetime created_at
        datetime last_login
    }

    CART_ITEM {
        int cart_item_id PK
        int user_id FK
        int product_id FK
        int quantity
        datetime added_at
    }

    ORDER {
        int order_id PK
        int user_id FK
        string order_code
        string customer_name
        string phone_number
        string shipping_address
        string city
        decimal subtotal
        decimal shipping_fee
        decimal total_amount
        string payment_method
        string payment_status
        string order_status
        text note
        datetime created_at
        datetime updated_at
    }

    ORDER_ITEM {
        int order_item_id PK
        int order_id FK
        int product_id FK
        int quantity
        decimal unit_price
        decimal total_price
    }

    REVIEW {
        int review_id PK
        int product_id FK
        int user_id FK
        int rating
        text content
        datetime created_at
    }

    PRODUCT_VIEW {
        int view_id PK
        int user_id FK
        int product_id FK
        datetime viewed_at
    }

    BRAND ||--o{ PRODUCT : "has"
    CATEGORY ||--o{ CATEGORY : "parent_of"
    CATEGORY ||--o{ PRODUCT : "contains"
    PRODUCT ||--o{ CART_ITEM : "in_cart"
    PRODUCT ||--o{ ORDER_ITEM : "ordered"
    PRODUCT ||--o{ REVIEW : "reviewed"
    PRODUCT ||--o{ PRODUCT_VIEW : "viewed"
    USER ||--o{ CART_ITEM : "adds"
    USER ||--o{ ORDER : "places"
    USER ||--o{ REVIEW : "writes"
    USER ||--o{ PRODUCT_VIEW : "views"
    ORDER ||--o{ ORDER_ITEM : "contains"